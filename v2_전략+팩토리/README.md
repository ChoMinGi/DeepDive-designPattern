## 흐름도
<img width="900" alt="image" src="https://github.com/user-attachments/assets/ae7aff92-77b9-45ea-ab87-4607f8105c29">
전략을 담은 Map과 변환 과정이 PaymentArchive 서비스단 내에 전부 구현되어있어 리셋/트랜잭션 발생시에 저장하는 로직을 서비스단에서 불러와야해서 의존성이 생겼고 단일책임 또한 지켜지지 않았다. 따라서 팩토리 코드를 중간에 작성해주어 명시적으로 객체를 생성하는 로직을 분리해주었다.

## 설계 관점
1. 추후 등록될 결제내역들 (포인트, 포장주문)에 대비하여 여러개의 뱐환전략이 필요
2. 객체 생성 로직이 팩토리 클래스 내에 집중 되어있다.
 + 각 도메인별 트랜잭션 특징으로 인해서 전략을 여러번 호출(다중 트랜잭션) 하는 경우도 따로 구현을 해주었다.

## 설계 패턴; 전략 패턴 + 팩토리 패턴
팩토리에 각 전략별 PaymentArchive 객체로 변환하는 과정을 구현. 전략 패턴 + 팩토리 패턴

## 장점
1. 서비스 레이어에서 전략 선택이 없어지고 팩토리를 통해서 전략을 요청한다. 따라서 서비스 로직이 더 간결해진다.
2. 생성 책임을 팩토리에 위임하는 형식(중앙집중식)으로 결합도가 낮아진다. 

## 단점
1. 새로운 방식이 생길때마다 팩토리 클래스를 수정해야한다. 확장성 측면에서는 v1이 더 나을수도 있다.
